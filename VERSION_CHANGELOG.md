# 版本变更说明

## v1.1.0 - 登录日志功能实现

### 新增功能

1. **登录日志记录功能**
   - 添加了 `LoginLog` 数据库模型，用于记录所有登录尝试
   - 记录关键信息：用户名、IP地址、登录状态、错误信息、时间戳
   - 支持多种失败场景的日志记录：验证码错误、密码错误、用户不存在

### 优化内容

1. **文件目录结构优化**
   - 将临时测试脚本从项目根目录移动到 `tests/integration` 目录
   - 遵循项目规范，提高代码组织性

2. **测试脚本增强**
   - 创建了全面的登录场景测试
   - 支持多个测试场景：错误验证码、错误密码、正确凭证、不存在用户
   - 优化了测试环境配置，确保测试可靠性

### 安全性提升

1. **登录日志安全**
   - 遵循安全规范，日志中不记录敏感信息（如密码）
   - 提供完整的登录审计能力，方便安全监控

### 修改的文件

- `app/models/db.py` - 添加 LoginLog 模型
- `app/routes/auth.py` - 增强登录功能，添加日志记录
- `app/models/__init__.py` - 更新模型导出配置
- 测试脚本位置优化：移动到 tests/integration 目录

### 兼容性说明

- 本版本与之前版本完全兼容
- 无需修改现有数据库结构，会自动创建新的 login_log 表
- 所有现有功能保持不变，仅增强了日志记录能力